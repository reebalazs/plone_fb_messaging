<!doctype html>
<html lang="en" ng-app="activityStream">
<head>
  <meta charset="UTF-8">
  <title>FireBase Activity Stream Demo</title>
  <link rel="stylesheet" type="text/css" href="./fb_activity.css">
  <script src="./dist/jquery.min.js"></script>
  <!-- <script src="./dist/angular.min.js"></script> -->
  <script src="./dist/angular.unstable.min.js"></script>
</head>
<body ng-controller="ActivityStreamController">
  <h1>Activity Stream</h1>
  <div>
  <label for="username">Username: </label><input type="text" ng-model="username" ng-change="updateUsername()" id="username">
  </div>
  
  <p></p>
  <div class="activities" id="activitiesDiv">
  <div class="activity" ng-cloak ng-repeat="activity in activities | activityFilter:this">
    <div><strong>Message:</strong> {{activity.message}}</div>
    <div><strong>Object UID:</strong> {{activity.uid}}</div>
    <div><strong>User ID:</strong> {{activity.userID}}</div>
    <div><strong>Event Type:</strong> {{activity.eventType}}</div>
    <div><strong>Change Time:</strong> {{activity.time | millisToReadableDate}}</div>
    <div><strong>Expires In:</strong> {{activity.expiration | timeFromNow}}</div>
    <div class="description" ng-if="activity.description"><strong>Description:</strong> {{activity.description}}</div>
  </div>
  </div>
  
  <button ng-click="markSeen()">Mark All as Read</button>

  <script src="https://cdn.firebase.com/v0/firebase.js"></script>
  <script src="./dist/bower_components/angularFire/angularFire.js"></script>
  <script src="./fb_activity.js"></script>
  <script src="./jquery.cookie.js"></script>
</body>
</html>